<html>
    <head>
        <script type="text/javascript">
            todos = [
                'Feed cats',
                'Fill cat water',
                'Clean cat boxes',
                'Gather dishes',
                'Gather rubbish',
                'Wash bottles',
                'Make milk bottles',
                'Check diaper pail',
                'Put bag in diaper pail'
            ];

            currentTodos = todos.slice();

            completedTodos = [];

            function load(options, completed) {
                var i = 0;
                return [""].concat(options).reduce(function(string, value) {
                    return string + newTodo(value, i++, completed);
                });
            }

            function newTodoInput() {
                return "<input type='text' id='newInput' />";
            }

            function addTodoButton() {
                return "<button onclick=\"createNew()\">+</button>";
            }

            function newTodo(value, i, completed) {
                var style = "style='" + (completed ? "text-decoration: line-through; color: #808080" : "color: #000000") + "'";
                var attribute = completed ? 'disabled' : "onclick=\"completeTodo(" + i + ")\"";
                return "<div><button " + attribute + ">X</button>" +
                            "<span " + style + "' id='todo" + i + "'>" + value + "</span>" +
                       "</div>";
            }

            function render() {
                var main = document.getElementById("todos");
                main.innerHTML = ""
                main.innerHTML += load(currentTodos, false);
                main.innerHTML += load(completedTodos, true);
            }

            function completeTodo(i) {
                todo = currentTodos.splice(i, 1);
                if (todo.length > 0) {
                    completedTodos.push(todo[0]);
                }
                render();
            }

            window.onload = function() {
                render();
            };
        </script>
        <style>
            html {
                font-size: 16pt;
            }

            button {
                font-size: 16pt;
                margin-right: 8pt;
            }

            ul {
                padding: 5px;
            }
        </style>
    </head>
    <body>
        <ul id="todos"></ul>
    </body>
</html>
